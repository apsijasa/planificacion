<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Planificación - NataPlan</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="image/favicon.ico" type="image/x-icon">
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="image/logo swimx.jpeg" alt="NataPlan Logo" class="logo-img">
                <h1>NataPlan</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="planifications.html"><i class="fas fa-calendar-alt"></i> Mis Planificaciones</a></li>
                    <li><a href="new-planification.html"><i class="fas fa-plus-circle"></i> Nueva Planificación</a></li>
                    <li><a href="help.html"><i class="fas fa-question-circle"></i> Ayuda</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h2><i class="fas fa-edit"></i> Editar Planificación</h2>
                <p>Modifica tu planificación de entrenamiento</p>
            </div>
        </section>

        <section class="new-planification-form">
            <div class="container">
                <form id="planificationForm">
                    <input type="hidden" id="planId">
                    <div class="form-steps">
                        <div class="step-indicator active" data-step="1">
                            <div class="step-number">1</div>
                            <div class="step-title">Información Básica</div>
                        </div>
                        <div class="step-indicator" data-step="2">
                            <div class="step-number">2</div>
                            <div class="step-title">Ciclos</div>
                        </div>
                        <div class="step-indicator" data-step="3">
                            <div class="step-number">3</div>
                            <div class="step-title">Competencias y Tests</div>
                        </div>
                        <div class="step-indicator" data-step="4">
                            <div class="step-number">4</div>
                            <div class="step-title">Configuración Avanzada</div>
                        </div>
                    </div>

                    <!-- Paso 1: Información Básica -->
                    <div class="form-step active" id="step1">
                        <div class="form-section">
                            <h3>Información de la Temporada</h3>

                            <div class="form-group">
                                <label for="planName">Nombre de la Planificación</label>
                                <input type="text" id="planName" name="planName"
                                    placeholder="Ej. Temporada 2025, Preparación Mundial..." required>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="startDate">Fecha de Inicio</label>
                                    <input type="date" id="startDate" name="startDate" required>
                                </div>

                                <div class="form-group">
                                    <label for="endDate">Fecha de Fin</label>
                                    <input type="date" id="endDate" name="endDate" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="description">Descripción</label>
                                <textarea id="description" name="description" rows="3"
                                    placeholder="Objetivos principales, categoría de nadadores, etc."></textarea>
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="button" class="btn btn-secondary" id="cancel1">Cancelar</button>
                            <button type="button" class="btn btn-primary" id="next1">Siguiente</button>
                        </div>
                    </div>

                    <!-- Paso 2: Ciclos -->
                    <div class="form-step" id="step2">
                        <div class="form-section">
                            <h3>Ciclos de Entrenamiento</h3>
                            <p class="form-help-text">Define los ciclos de entrenamiento para la planificación. Las
                                fechas se ajustarán automáticamente basadas en la fecha de inicio.</p>

                            <div class="cycle-container">
                                <h4>Macrociclos</h4>
                                <div id="macrocyclesContainer">
                                    <!-- Los macrociclos se añadirán dinámicamente -->
                                </div>
                                <button type="button" class="btn btn-add" id="addMacrocycle"><i class="fas fa-plus"></i>
                                    Añadir Macrociclo</button>
                            </div>

                            <div class="cycle-container">
                                <h4>Mesociclos</h4>
                                <div id="mesocyclesContainer">
                                    <!-- Los mesociclos se añadirán dinámicamente -->
                                </div>
                                <button type="button" class="btn btn-add" id="addMesocycle"><i class="fas fa-plus"></i>
                                    Añadir Mesociclo</button>
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="button" class="btn btn-secondary" id="prev2">Anterior</button>
                            <button type="button" class="btn btn-primary" id="next2">Siguiente</button>
                        </div>
                    </div>

                    <!-- Paso 3: Competencias y Tests -->
                    <div class="form-step" id="step3">
                        <div class="form-section">
                            <h3>Competencias</h3>
                            <div id="competitionsContainer">
                                <!-- Las competencias se añadirán dinámicamente -->
                            </div>
                            <button type="button" class="btn btn-add" id="addCompetition"><i class="fas fa-plus"></i>
                                Añadir Competencia</button>
                        </div>

                        <div class="form-section">
                            <h3>Tests</h3>
                            <div id="testsContainer">
                                <!-- Los tests se añadirán dinámicamente -->
                            </div>
                            <button type="button" class="btn btn-add" id="addTest"><i class="fas fa-plus"></i> Añadir
                                Test</button>
                        </div>

                        <div class="form-buttons">
                            <button type="button" class="btn btn-secondary" id="prev3">Anterior</button>
                            <button type="button" class="btn btn-primary" id="next3">Siguiente</button>
                        </div>
                    </div>

                    <!-- Paso 4: Configuración Avanzada -->
                    <div class="form-step" id="step4">
                        <div class="form-section">
                            <h3>Configuración de Volumen</h3>
                            <p class="form-help-text">Define el volumen de entrenamiento por semana (metros). Puedes
                                ajustar estos valores después.</p>

                            <div id="volumeContainer" class="volume-grid">
                                <!-- El volumen semanal se añadirá dinámicamente -->
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="button" class="btn btn-secondary" id="prev4">Anterior</button>
                            <button type="submit" class="btn btn-success" id="savePlan">Guardar Cambios</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>NataPlan</h2>
                    <p>Planificación de entrenamientos de natación</p>
                </div>
                <div class="footer-links">
                    <h3>Enlaces</h3>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="planifications.html">Mis Planificaciones</a></li>
                        <li><a href="new-planification.html">Nueva Planificación</a></li>
                        <li><a href="help.html">Ayuda</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contacto</h3>
                    <p>¿Tienes preguntas o sugerencias?</p>
                    <a href="mailto:contacto@nataplan.com">contacto@nataplan.com</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 NataPlan. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Plantillas para elementos dinámicos -->
    <template id="macrocycle-template">
        <div class="cycle-item macrocycle-item">
            <div class="cycle-header">
                <h5>Macrociclo <span class="cycle-number"></span></h5>
                <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
            </div>
            <div class="cycle-content">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="macro-name" placeholder="Ej. Preparatorio">
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select class="macro-type">
                            <option value="preparatorio">Preparatorio</option>
                            <option value="competitivo">Competitivo</option>
                            <option value="transicion">Transición</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Semana Inicio</label>
                        <input type="number" class="macro-start-week" min="1">
                    </div>
                    <div class="form-group">
                        <label>Semana Fin</label>
                        <input type="number" class="macro-end-week" min="1">
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="mesocycle-template">
        <div class="cycle-item mesocycle-item">
            <div class="cycle-header">
                <h5>Mesociclo <span class="cycle-number"></span></h5>
                <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
            </div>
            <div class="cycle-content">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="meso-name" placeholder="Ej. Base">
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select class="meso-type">
                            <option value="base">Base</option>
                            <option value="especifico">Específico</option>
                            <option value="precompetitivo">Precompetitivo</option>
                            <option value="competitivo">Competitivo</option>
                            <option value="transicion">Transición</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Semana Inicio</label>
                        <input type="number" class="meso-start-week" min="1">
                    </div>
                    <div class="form-group">
                        <label>Semana Fin</label>
                        <input type="number" class="meso-end-week" min="1">
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="competition-template">
        <div class="competition-item">
            <div class="competition-header">
                <h5>Competencia <span class="competition-number"></span></h5>
                <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
            </div>
            <div class="competition-content">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="competition-name" placeholder="Ej. Campeonato Regional">
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select class="competition-type">
                            <option value="regional">Regional</option>
                            <option value="nacional">Nacional</option>
                            <option value="internacional">Internacional</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Fecha</label>
                        <input type="date" class="competition-date">
                    </div>
                    <div class="form-group">
                        <label>Semana</label>
                        <input type="number" class="competition-week" min="1" readonly>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="test-template">
        <div class="test-item">
            <div class="test-header">
                <h5>Test <span class="test-number"></span></h5>
                <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
            </div>
            <div class="test-content">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="test-name" placeholder="Ej. Test 400m">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Fecha</label>
                        <input type="date" class="test-date">
                    </div>
                    <div class="form-group">
                        <label>Semana</label>
                        <input type="number" class="test-week" min="1" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label>Descripción</label>
                    <textarea class="test-description" rows="2" placeholder="Descripción del test..."></textarea>
                </div>
            </div>
        </div>
    </template>

    <template id="volume-week-template">
        <div class="volume-week">
            <div class="volume-week-header">
                <label>Semana <span class="week-number"></span></label>
            </div>
            <div class="volume-input">
                <input type="number" class="week-volume" min="0" step="500" placeholder="0">
                <span class="volume-unit">m</span>
            </div>
        </div>
    </template>

    <script src="js/main.js"></script>
    <script src="js/edit-planification.js"></script>
</body>

</html>